/*! For license information please see RosCard.js.LICENSE.txt */
(()=>{"use strict";var t={373:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}n.r(e),n.d(e,{AiksSwitchMonitorCardEditor:()=>p});var p=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=f(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}(this,e)).deviceTypes={light:!0,switch:!0,climate:!0},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),n=e,(o=[{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},{key:"setConfig",value:function(t){var e=i({},t);e.id||(e.id=this.generateUUID()),this._config={type:e.type||"custom:aiks-switch-monitor-card",id:e.id,monitor_name:e.monitor_name||("zh"===this._language?"统计卡片":"Unnamed Monitor"),device_types:e.device_types||{light:!0,switch:!0,climate:!0}},this.deviceTypes=i({},this._config.device_types),this.dispatchEvent(new CustomEvent("config-changed",{detail:{config:i({},this._config)}})),this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this.render(),this.firstRender=!1)}},{key:"getCheckedCount",value:function(){return Object.values(this.deviceTypes).filter(function(t){return!0===t}).length}},{key:"onCheckboxChange",value:function(t){this.deviceTypes[t]&&1===this.getCheckedCount()||(this.deviceTypes[t]=!this.deviceTypes[t],this._config.device_types=i({},this.deviceTypes),this.dispatchEvent(new CustomEvent("config-changed",{detail:{config:i({},this._config)},bubbles:!0,composed:!0})),this.render())}},{key:"getDeviceTypeLabel",value:function(t){return{light:"zh"===this._language?"灯":"Light",switch:"zh"===this._language?"开关":"Switch",climate:"zh"===this._language?"空调":"Climate"}[t]||t}},{key:"render",value:function(){var t=this;if(this._config&&this._hass){this.innerHTML="";var e=document.createElement("div");e.style.padding="16px";var n=document.createElement("div");n.style.marginBottom="16px",n.style.display="flex",n.style.alignItems="center";var r=document.createElement("span");r.innerText="zh"===this._language?"卡片名称: ":"Card Name: ",r.style.width="100px",n.appendChild(r);var o=document.createElement("input");o.type="text",o.value=this._config.monitor_name,o.style.width="200px",o.style.padding="6px",o.addEventListener("blur",function(){t._config.monitor_name=o.value,t.dispatchEvent(new CustomEvent("config-changed",{detail:{config:i({},t._config)},bubbles:!0,composed:!0}))}),n.appendChild(o),e.appendChild(n);var a=document.createElement("div");a.innerText="zh"===this._language?"设备类型: ":"Device Types: ",a.style.marginBottom="8px",a.style.fontWeight="600",e.appendChild(a);var c=document.createElement("div");c.style.marginBottom="16px",c.style.paddingLeft="20px",["light","switch","climate"].forEach(function(e){var n=document.createElement("div");n.style.marginBottom="8px",n.style.display="flex",n.style.alignItems="center";var r=document.createElement("input");r.type="checkbox",r.checked=t.deviceTypes[e],r.style.marginRight="8px",r.style.cursor="pointer",r.id="device-type-".concat(e),t.deviceTypes[e]&&1===t.getCheckedCount()&&(r.disabled=!0,r.style.cursor="not-allowed",r.style.opacity="0.5"),r.addEventListener("change",function(){t.onCheckboxChange(e)});var o=document.createElement("label");o.htmlFor="device-type-".concat(e),o.innerText=t.getDeviceTypeLabel(e),o.style.cursor="pointer",o.style.marginBottom="0",n.appendChild(r),n.appendChild(o),c.appendChild(n)}),e.appendChild(c),this.appendChild(e)}}}])&&c(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o}(n(568).l)},568:(t,e,n)=>{n.d(e,{l:()=>s});var r={zh:{cardTitle:function(t){return"".concat(t||"未命名设备"," 卡片")},controlPanelTitle:"发送控制命令",sendButton:"发送",testButton:"测试",nameLabel:"设备名称: ",selectEntity:"请选择实体",selectCommand:"请选择命令",selectOption:"请选择选项",enterCommand:"请输入命令值...",clearButton:"清空",validEntity:"请选择有效实体",stateOn:"开",stateOff:"关",defaultIconPath:"/local/community/RosCard/icon_img/states_device_light_on_icon.png",entity:"实体",executionModes:{immediate:"立即执行",delayed:"延迟执行",popup:"弹窗询问"},independentDisplay:"是否独立显示",anotherName:"别名",yes:"是",no:"否",remoteDevice:"遥控设备"},en:{cardTitle:function(t){return"".concat(t||"Unnamed Device"," Card")},controlPanelTitle:"Send Control Commands",sendButton:"Send",testButton:"Test",nameLabel:"Device Name: ",selectEntity:"Please select an entity",selectCommand:"Please select a command",selectOption:"Please select an option",enterCommand:"Enter command value...",clearButton:"Clear",validEntity:"Please select a valid entity",stateOn:"On",stateOff:"Off",defaultIconPath:"/local/community/RosCard/icon_img/states_device_light_on_icon.png",entity:"Entity",executionModes:{immediate:"Immediate",delayed:"Delayed",popup:"Popup Ask"},independentDisplay:"Show independently",anotherName:"alias",yes:"Yes",no:"No",remoteDevice:"remote device"}};function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(u())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&l(o,n.prototype),o}(t,arguments,f(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)},c(t)}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var s=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=f(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],f(t).constructor):e.apply(t,n))}(this,e)).firstRender=!0,t._language=navigator.language.startsWith("zh")?"zh":"en",t._translations=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),n=e,(a=[{key:"_createButton",value:function(t,e){var n=document.createElement("button");return n.innerText=t,n.style.margin="4px",n.style.padding="8px 12px",n.style.cursor="pointer",n.style.borderRadius="4px",n.onclick=e.bind(this),n}},{key:"_createIcon",value:function(t){var e=document.createElement("img");return e.src=t||this._translations[this._language].defaultIconPath,e.style.position="absolute",e.style.top="50px",e.style.right="30px",e.style.width="60px",e.style.height="60px",e}},{key:"_t",value:function(t){var e;return(null===(e=this._translations[this._language])||void 0===e?void 0:e[t])||""}}])&&i(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,a}(c(HTMLElement))}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r=n(568);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,i){var c=r&&r.prototype instanceof l?r:l,f=Object.create(c.prototype);return a(f,"_invoke",function(n,r,o){var i,a,c,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,a=0,c=t,p.n=n,u}};function y(n,r){for(a=n,c=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(a=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,a=0))}if(o||n>1)return u;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),a=f,c=d;(e=a<2?t:c)||!s;){i||(a?a<3?(a>1&&(p.n=-1),y(a,c)):p.n=c:p.v=c);try{if(l=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(s=p.n<0)?c:n.call(r,p))!==u)break}catch(e){i=t,a=1,c=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),f}var u={};function l(){}function f(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(a(e={},r,function(){return this}),e),y=s.prototype=l.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,a(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return f.prototype=s,a(y,"constructor",s),a(s,"constructor",f),f.displayName="GeneratorFunction",a(s,o,"GeneratorFunction"),a(y),a(y,o,"Generator"),a(y,r,function(){return this}),a(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:c,m:d}})()}function a(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,e,n,r){function i(e,n){a(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},a(t,e,n,r)}function c(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){d(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function d(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function h(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(b=function(){return!!t})()}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var _=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=m(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,n||[],m(t).constructor):e.apply(t,n))}(this,e))._translations=y(y({},t._translations),{},{zh:y(y({},t._translations.zh),{},{mediaCommands:[{label:"播放",value:"media_play"},{label:"暂停",value:"media_pause"},{label:"音量增加",value:"volume_up"},{label:"音量减少",value:"volume_down"},{label:"静音",value:"volume_mute_true"},{label:"取消静音",value:"volume_mute_false"}]}),en:y(y({},t._translations.en),{},{mediaCommands:[{label:"Play",value:"media_play"},{label:"Pause",value:"media_pause"},{label:"Volume Up",value:"volume_up"},{label:"Volume Down",value:"volume_down"},{label:"Mute",value:"volume_mute_true"},{label:"Unmute",value:"volume_mute_false"}]})}),t.addEventListener("config-changed",function(e){t.setConfig(e.detail.config)}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=y(y({},t),{},{tv_name:t.tv_name||("zh"===this._language?"未命名电视":"Unnamed TV"),entities:Array.isArray(null==t?void 0:t.entities)?l(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_tv.png",tv_type:t.tv_type||"android_tv"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle(this._config.tv_name),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",n.innerHTML="<h3>".concat(this._translations[this._language].controlPanelTitle,"</h3>"),Array.isArray(this._config.entities)&&this._config.entities.length>0&&this._config.entities.forEach(function(e){"media_player"===e.type&&e.commands?Object.entries(e.commands).forEach(function(r){var o=u(r,2),i=o[0],a=o[1],c=document.createElement("div");c.innerHTML="<span>".concat(e.entity_id,": ").concat(i,"</span>");var l=t._createButton(t._translations[t._language].sendButton,function(){"volume_mute"===a?t._hass.callService(e.type,a,{entity_id:e.entity_id,is_volume_muted:!(!i.includes("静音")&&!i.includes("Mute"))}):t._hass.callService(e.type,a,{entity_id:e.entity_id})});c.appendChild(l),n.appendChild(c)}):"remote"===e.type&&e.commands?Object.entries(e.commands).forEach(function(r){var o=u(r,2),i=o[0],a=o[1],c=document.createElement("div");c.innerHTML="<span>".concat(e.entity_id,": ").concat(i," = ").concat(a,"</span>");var l=t._createButton(t._translations[t._language].testButton,function(){t._hass.callService(e.type,"send_command",{entity_id:e.entity_id,command:a})});c.appendChild(l),n.appendChild(c)}):"select"===e.type&&e.commands&&Object.entries(e.commands).forEach(function(r){var o=u(r,2),i=o[0],a=o[1],c=document.createElement("div");c.innerHTML="<span>".concat(e.entity_id,": ").concat(i," = ").concat(a,"</span>");var l=t._createButton(t._translations[t._language].testButton,function(){t._hass.callService(e.type,"select_option",{entity_id:e.entity_id,option:a})});c.appendChild(l),n.appendChild(c)})}),e.appendChild(n),this.appendChild(e)}}}],a=[{key:"getConfigElement",value:(f=i().m(function t(){return i().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-tv-card-editor"))},t)}),s=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=f.apply(t,e);function i(t){c(o,n,r,i,a,"next",t)}function a(t){c(o,n,r,i,a,"throw",t)}i(void 0)})},function(){return s.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{tv_name:"zh"==(navigator.language.startsWith("zh")?"zh":"en")?"未命名电视":"Unnamed TV",entities:[],tv_type:"android_tv",media_play_entity:""}}}],r&&v(n.prototype,r),a&&v(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,a,f,s}(r.l);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function w(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return j(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(e){k(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(S=function(){return!!t})()}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function k(t,e,n){return(e=R(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R(t){var e=function(t){if("object"!=O(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==O(e)?e:e+""}var A=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=T(e),function(t,e){if(e&&("object"==O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,S()?Reflect.construct(e,n||[],T(t).constructor):e.apply(t,n))}(this,e))._translations=P(P({},t._translations),{},{zh:P(P({},t._translations.zh),{},{mediaCommands:[{label:"打开",value:"turn_on"},{label:"关闭",value:"turn_off"},{label:"播放",value:"media_play"},{label:"暂停",value:"media_pause"},{label:"音量增加",value:"volume_up"},{label:"音量减少",value:"volume_down"},{label:"静音",value:"volume_mute_true"},{label:"取消静音",value:"volume_mute_false"}]}),en:P(P({},t._translations.en),{},{mediaCommands:[{label:"Turn on",value:"turn_on"},{label:"Turn off",value:"turn_off"},{label:"Play",value:"media_play"},{label:"Pause",value:"media_pause"},{label:"Volume Up",value:"volume_up"},{label:"Volume Down",value:"volume_down"},{label:"Mute",value:"volume_mute_true"},{label:"Unmute",value:"volume_mute_false"}]})}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(e,t),n=e,r=[{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},{key:"setConfig",value:function(t){var e=P({},t);e.id||(e.id=this.generateUUID()),this._config={type:e.type||"custom:aiks-tv-card",id:e.id,tv_type:e.tv_type||"android_tv",tv_name:e.tv_name||("zh"===this._language?"未命名电视":"Unnamed TV"),media_play_entity:e.media_play_entity||"",entities:Array.isArray(e.entities)?w(e.entities):[]},this.dispatchEvent(new CustomEvent("config-changed",{detail:{config:P({},this._config)}})),this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._config&&this._hass){this.innerHTML="";var e=document.createElement("div");e.style.padding="16px";var n=document.createElement("div");n.style.marginBottom="16px",n.style.display="flex",n.style.alignItems="center",n.style.gap="12px";var r=document.createElement("span");r.innerText="zh"===this._language?"设备类型:":"Device Type:",r.style.width="100px",r.style.fontWeight="bold",n.appendChild(r);var o=document.createElement("select");if(o.style.width="150px",o.style.padding="6px",o.style.borderRadius="4px",[{value:"apple_tv",label:"Apple TV"},{value:"android_tv",label:"zh"===this._language?"安卓电视":"Android TV"}].forEach(function(e){var n=document.createElement("option");n.value=e.value,n.text=e.label,t._config.tv_type===e.value&&(n.selected=!0),o.appendChild(n)}),o.addEventListener("change",function(){t._config.tv_type=o.value,t.dispatchEvent(new CustomEvent("config-changed",{detail:{config:P({},t._config)}})),t.render()}),n.appendChild(o),e.appendChild(n),"apple_tv"===this._config.tv_type||"android_tv"===this._config.tv_type){var i=document.createElement("div");i.style.marginBottom="16px",i.style.display="flex",i.style.alignItems="center",i.style.gap="12px";var a=document.createElement("span");a.innerText="zh"===this._language?"播放实体:":"Media Player:",a.style.width="100px",a.style.fontWeight="bold",i.appendChild(a);var c=document.createElement("ha-selector");c.hass=this._hass,c.selector={entity:{filter:{domain:"media_player"}}},c.value=this._config.media_play_entity||"",c.style.cssText="\n        flex: 1;\n        max-width: 300px;\n      ",c.addEventListener("value-changed",function(e){t._config.media_play_entity=e.detail.value||"",t.dispatchEvent(new CustomEvent("config-changed",{detail:{config:P({},t._config)},bubbles:!0,composed:!0}))}),i.appendChild(c),e.appendChild(i)}var u=document.createElement("div");u.style.marginBottom="16px",u.style.display="flex",u.style.alignItems="center",u.style.gap="12px";var l=document.createElement("span");l.innerText=this._translations[this._language].nameLabel,l.style.width="100px",l.style.fontWeight="bold",u.appendChild(l);var f=document.createElement("input");f.type="text",f.value=this._config.tv_name,f.style.cssText="\n      flex: 1;\n      max-width: 300px;\n      padding: 6px 10px;\n      border-radius: 4px;\n      border: 1px solid var(--divider-color);\n    ",f.addEventListener("blur",function(){t._config.tv_name=f.value,t.dispatchEvent(new CustomEvent("config-changed",{detail:{config:P({},t._config)}}))}),u.appendChild(f),e.appendChild(u);var s=document.createElement("div");s.innerText="zh"===this._language?"按键配置":"Button Configuration",s.style.cssText="\n      font-weight: bold;\n      margin-bottom: 12px;\n      margin-top: 16px;\n      padding-bottom: 8px;\n      border-bottom: 1px solid var(--divider-color);\n    ",e.appendChild(s);var p=document.createElement("div");p.id="entityContainer",p.style.cssText="\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    ";var y=["UP","DOWN","LEFT","RIGHT","CENTER","BACK","PLAY","PAUSE","VOLUME_UP","VOLUME_DOWN","MUTE","UN_MUTE","SETTINGS","HOME","MENU"],d="android_tv"===this._config.tv_type?[].concat(["POWER"],y,["CHANNEL_UP","CHANNEL_DOWN"],["NUM_0","NUM_1","NUM_2","NUM_3","NUM_4","NUM_5","NUM_6","NUM_7","NUM_8","NUM_9","DELETE","KEY_A","KEY_B","KEY_C"]):[].concat(["POWER_ON","POWER_OFF"],y),v={};(this._config.entities||[]).forEach(function(t){t&&t.key&&(v[t.key]=t)}),this._config.entities=d.map(function(t){var e=v[t];return e?P(P({},e),{},{key:t}):{key:t,type:"",entity_id:"",value:""}}),this._config.entities.forEach(function(e,n){p.appendChild(t._createEntityRow(n,e,t._hass))}),e.appendChild(p),this.appendChild(e)}}},{key:"_showToast",value:function(t){try{this.dispatchEvent(new CustomEvent("show-toast",{detail:{message:t}}))}catch(e){console.warn(t)}}},{key:"_sendTest",value:function(t,e){var n,r=this._hass;if(r){var o=(null==t?void 0:t.entity_id)||"",i=o?o.split(".")[0]:(null==t?void 0:t.type)||"",a=(null!==(n=null!=e?e:null==t?void 0:t.value)&&void 0!==n?n:"").toString().trim();if(o&&i)if(a||"media_player"===i)if("remote"!==i)if("media_player"!==i)"select"!==i?this._showToast("zh"===this._language?"不支持的类型：".concat(i):"Unsupported type: ".concat(i)):r.callService("select","select_option",{entity_id:o,option:a});else if("volume_mute_true"===a||"volume_mute_false"===a)r.callService("media_player","volume_mute",{entity_id:o,is_volume_muted:a.endsWith("_true")});else if(a.startsWith("volume_set_")){var c=parseFloat(a.split("_").pop());Number.isNaN(c)?this._showToast("zh"===this._language?"音量格式应为 volume_set_0.0~1.0":"Volume format should be volume_set_0.0~1.0"):r.callService("media_player","volume_set",{entity_id:o,volume_level:Math.max(0,Math.min(1,c))})}else r.callService("media_player",a||"media_play",{entity_id:o});else r.callService("remote","send_command",{entity_id:o,command:a});else this._showToast("zh"===this._language?"请先填写命令/选项":"Please enter command/option");else this._showToast("zh"===this._language?"请先选择实体":"Please select entity first")}else this._showToast("zh"===this._language?"hass未就绪":"hass not ready")}},{key:"_isRemoteOnlyKey",value:function(t){return["KEY_A","KEY_B","KEY_C"].includes(t)}},{key:"_createEntityRow",value:function(t,n,r){var o=this,i=document.createElement("div");i.style.cssText="\n    display: grid;\n    grid-template-columns: 80px 1fr;\n    gap: 12px;\n    padding: 12px;\n    background-color: rgba(255, 255, 255, 0.02);\n    border-radius: 6px;\n    border: 1px solid rgba(255, 255, 255, 0.08);\n  ";var a=document.createElement("div");a.innerText=n.key,a.style.cssText="\n    font-weight: 500;\n    font-size: 0.9em;\n    align-self: start;\n    padding-top: 6px;\n  ",i.appendChild(a);var c=document.createElement("div");c.style.cssText="\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n    min-width: 0;\n  ";var u=document.createElement("ha-selector");u.hass=r;var l=this._isRemoteOnlyKey(n.key);u.selector={entity:{filter:{domain:l?["remote"]:["media_player","remote","select"]}}},u.value=n.entity_id||"",u.style.cssText="\n    width: 100%;\n  ";var f=document.createElement("div");f.style.cssText="\n    display: grid;\n    grid-template-columns: 1fr auto auto;\n    gap: 8px;\n    align-items: center;\n    min-width: 0;\n  ";var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o._config.entities.map(function(n,r){return r===t?P(P({},n),e):n});o._config=P(P({},o._config),{},{entities:n}),o.dispatchEvent(new CustomEvent("config-changed",{detail:{config:o._config},bubbles:!0,composed:!0}))},p=function(){var t;f.innerHTML="";var i=u.value,a=i?i.split(".")[0]:"",c=null;if("media_player"===a){var l=document.createElement("select");l.style.cssText="\n        padding: 6px 10px;\n        border-radius: 4px;\n        border: 1px solid var(--divider-color);\n        min-width: 150px;\n      ",l.innerHTML='<option value="">'.concat(o._translations[o._language].selectCommand,"</option>"),o._translations[o._language].mediaCommands.forEach(function(t){var e=document.createElement("option");e.value=t.value,e.text=t.label,t.value===n.value&&(e.selected=!0),l.appendChild(e)}),l.addEventListener("change",function(){return s({value:l.value})}),f.appendChild(l),c=l}else if("select"===a&&null!==(t=r.states[i])&&void 0!==t&&null!==(t=t.attributes)&&void 0!==t&&t.options){var p=document.createElement("select");p.style.cssText="\n        padding: 6px 10px;\n        border-radius: 4px;\n        border: 1px solid var(--divider-color);\n        min-width: 150px;\n      ",p.innerHTML='<option value="">'.concat(o._translations[o._language].selectOption,"</option>"),r.states[i].attributes.options.forEach(function(t){var e=document.createElement("option");e.value=t,e.text=t,t===n.value&&(e.selected=!0),p.appendChild(e)}),p.addEventListener("change",function(){return s({value:p.value})}),f.appendChild(p),c=p}else if("remote"===a){var y=document.createElement("input");if(y.type="text",n.value)y.value=n.value;else{var d,v=o._config.tv_type||"android_tv",h=(null===(d=e.REMOTE_DEFAULTS)||void 0===d||null===(d=d[v])||void 0===d?void 0:d[n.key])||"";y.value=h,s({value:h})}y.style.cssText="\n        padding: 6px 10px;\n        border-radius: 4px;\n        border: 1px solid var(--divider-color);\n        min-width: 150px;\n      ",y.placeholder=o._translations[o._language].enterCommand,y.addEventListener("blur",function(){return s({value:y.value})}),f.appendChild(y),c=y;var b=o._createButton("zh"===o._language?"恢复默认":"Reset",function(){var t,r=o._config.tv_type||"android_tv",i=(null===(t=e.REMOTE_DEFAULTS)||void 0===t||null===(t=t[r])||void 0===t?void 0:t[n.key])||"";y.value=i,s({value:i})});b.style.cssText="\n        padding: 6px 12px;\n        font-size: 0.85em;\n        white-space: nowrap;\n      ",f.appendChild(b);var m=o._createButton(o._translations[o._language].testButton,function(){return o._sendTest({key:n.key,type:a,entity_id:u.value,value:y.value},y.value)});m.style.cssText="\n        padding: 6px 12px;\n        font-size: 0.85em;\n        white-space: nowrap;\n      ",f.appendChild(m)}else if(i){var g=document.createElement("span");g.style.cssText="\n        font-size: 0.85em;\n        opacity: 0.6;\n      ",g.innerText="zh"===o._language?"选择有效实体":"Select valid entity",f.appendChild(g)}if(c&&"remote"!==a){var _=o._createButton(o._translations[o._language].testButton,function(){return o._sendTest({key:n.key,type:a,entity_id:u.value,value:c.value},c.value)});_.style.cssText="\n        padding: 6px 12px;\n        font-size: 0.85em;\n        white-space: nowrap;\n      ",f.appendChild(_)}};return u.addEventListener("value-changed",function(t){var r=t.detail.value||"",i=r?r.split(".")[0]:"",a={entity_id:r,type:i};if("remote"===i){var c,u=o._config.tv_type||"android_tv";a.value=(null===(c=e.REMOTE_DEFAULTS)||void 0===c||null===(c=c[u])||void 0===c?void 0:c[n.key])||""}s(a),p()}),n.entity_id&&(u.value=n.entity_id,p()),c.appendChild(u),c.appendChild(f),i.appendChild(c),i}}],r&&x(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.l);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function M(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return L(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(L(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,L(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,L(s,"constructor",l),L(l,"constructor",u),u.displayName="GeneratorFunction",L(l,o,"GeneratorFunction"),L(s),L(s,o,"Generator"),L(s,r,function(){return this}),L(s,"toString",function(){return"[object Generator]"}),(M=function(){return{w:i,m:p}})()}function L(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}L=function(t,e,n,r){function i(e,n){L(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},L(t,e,n,r)}function B(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function U(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return z(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach(function(e){N(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function N(t,e,n){return(e=F(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F(r.key),r)}}function F(t){var e=function(t){if("object"!=D(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==D(e)?e:e+""}function W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(W=function(){return!!t})()}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}function K(t,e){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},K(t,e)}k(A,"REMOTE_DEFAULTS",{android_tv:{POWER:"POWER",UP:"UP",DOWN:"DOWN",LEFT:"LEFT",RIGHT:"RIGHT",CENTER:"CENTER",ENTER:"ENTER",BACK:"BACK",PLAY:"PLAY",PAUSE:"PAUSE",VOLUME_UP:"VOLUME_UP",VOLUME_DOWN:"VOLUME_DOWN",MUTE:"MUTE",UN_MUTE:"UNMUTE",SETTINGS:"SETTINGS",HOME:"HOME",MENU:"MENU",CHANNEL_UP:"channel_up",CHANNEL_DOWN:"channel_down"},apple_tv:{POWER_ON:"wakeup",POWER_OFF:"suspend",UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",CENTER:"select",BACK:"menu",PLAY:"play",PAUSE:"pause",VOLUME_UP:"volume_up",VOLUME_DOWN:"volume_down",MUTE:"mute",UN_MUTE:"",SETTINGS:"wakeup",HOME:"home",MENU:"menu"}});var $=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=V(e),function(t,e){if(e&&("object"==D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,W()?Reflect.construct(e,n||[],V(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=G(G({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?U(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_light.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"灯光控制":"Light Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=M().m(function t(){return M().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-light-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){B(o,n,r,a,c,"next",t)}function c(t){B(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&H(n.prototype,r),o&&H(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||Q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){if(t){if("string"==typeof t)return X(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(t,e):void 0}}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach(function(e){et(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function et(t,e,n){return(e=rt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rt(r.key),r)}}function rt(t){var e=function(t){if("object"!=Y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Y(e)?e:e+""}function ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ot=function(){return!!t})()}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}var ct=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=it(e),function(t,e){if(e&&("object"==Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ot()?Reflect.construct(e,n||[],it(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(e,t),n=e,r=[{key:"getEntityDomain",value:function(){throw new Error("Subclasses must implement getEntityDomain()")}},{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},{key:"getExtraConfig",value:function(t,e){return null}},{key:"handleExtraConfigChange",value:function(t,e,n,r){t[e][n]=r}},{key:"setConfig",value:function(t){var e=this;this._config=tt(tt({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?J(t.entities):[]});var n=this.getExtraConfig({},0);this._config.entities=this._config.entities.map(function(t){var r=tt({},t);return r.uuid||(r.uuid=e.generateUUID()),n&&Object.entries(n).forEach(function(t){var e=q(t,2),n=e[0],o=e[1];!(n in r)&&"defaultValue"in o&&(r[n]=o.defaultValue)}),r}),this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._config&&this._hass){this.innerHTML="";var e=document.createElement("div");e.style.cssText="\n      padding: 16px;\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    ";var n=document.createElement("div");n.id="entityContainer",n.style.cssText="\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      min-height: 60px;\n    ",this._config.entities.forEach(function(e,r){var o=t._createEntityRow(r,e);n.appendChild(o)});var r={entity_id:"",uuid:this.generateUUID()},o=this.getExtraConfig({},0);o&&Object.entries(o).forEach(function(t){var e=q(t,2),n=e[0],o=e[1];"defaultValue"in o&&(r[n]=o.defaultValue)});var i=this._createEntityRow(this._config.entities.length,r,!0);n.appendChild(i),e.appendChild(n),this.appendChild(e),this._setupDragAndDrop(n)}}},{key:"_createEntityRow",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");r.style.cssText="\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-radius: 6px;\n      background-color: ".concat(n?"rgba(255, 255, 255, 0.05)":"transparent",";\n      border: 1px solid rgba(255, 255, 255, 0.1);\n      overflow: hidden;\n    "),r.draggable=!n,r.dataset.index=t;var o=document.createElement("div");if(o.style.cssText="\n      display: flex;\n      align-items: center;\n      gap: 12px;\n      padding: 12px;\n      transition: background-color 0.2s;\n    ",n){var i=document.createElement("div");i.style.cssText="width: 20px; flex-shrink: 0;",o.appendChild(i)}else o.appendChild(this._createDragHandle());o.appendChild(this._createEntitySelector(t,e,n));var a=this.getExtraConfig(e,t);if(!n&&a){var c=this._createToggleButton(t,r);o.appendChild(c)}if(n||o.appendChild(this._createDeleteButton(t)),r.appendChild(o),!n&&a){var u=document.createElement("div");u.style.cssText="\n        display: none;\n        flex-direction: column;\n        gap: 12px;\n        padding: 12px;\n        padding-top: 0;\n        background-color: rgba(255, 255, 255, 0.02);\n        border-top: 1px solid rgba(255, 255, 255, 0.05);\n      ",u.id="details-".concat(t);var l=this._createExtraControls(t,e,a,n);u.appendChild(l),r.appendChild(u),this._expandedStates||(this._expandedStates={})}return r}},{key:"_createToggleButton",value:function(t,e){var n=document.createElement("button");return n.innerHTML='\n      <svg style="width: 20px; height: 20px; transition: transform 0.2s;" viewBox="0 0 24 24">\n        <path fill="currentColor" d="M7 10l5 5 5-5z"/>\n      </svg>\n    ',n.style.cssText="\n      background: none;\n      border: none;\n      cursor: pointer;\n      color: inherit;\n      padding: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-shrink: 0;\n      opacity: 0.6;\n      transition: opacity 0.2s;\n      border-radius: 4px;\n    ",n.addEventListener("mouseover",function(){return n.style.opacity="0.9"}),n.addEventListener("mouseout",function(){return n.style.opacity="0.6"}),n.addEventListener("click",function(t){t.stopPropagation();var r=e.querySelector('[id^="details-"]');"none"===r.style.display?(r.style.display="flex",n.style.transform="rotate(180deg)"):(r.style.display="none",n.style.transform="rotate(0deg)")}),n}},{key:"_createDragHandle",value:function(){var t=document.createElement("div");return t.innerHTML='\n      <svg style="width: 20px; height: 20px;" viewBox="0 0 24 24">\n        <path fill="currentColor" d="M9 3h2v2H9V3m0 4h2v2H9V7m0 4h2v2H9v-2m4-8h2v2h-2V3m0 4h2v2h-2V7m0 4h2v2h-2v-2z"/>\n      </svg>\n    ',t.style.cssText="\n      cursor: move;\n      flex-shrink: 0;\n      opacity: 0.5;\n      transition: opacity 0.2s;\n      display: flex;\n      align-items: center;\n    ",t.addEventListener("mouseover",function(){return t.style.opacity="0.8"}),t.addEventListener("mouseout",function(){return t.style.opacity="0.5"}),t}},{key:"_createEntitySelector",value:function(t,e,n){var r=this,o=document.createElement("ha-selector");return o.hass=this._hass,o.selector={entity:{filter:{domain:this.getEntityDomain()}}},o.value=e.entity_id||"",o.style.cssText="\n      flex: 1;\n      min-width: 200px;\n    ",o.addEventListener("value-changed",function(o){var i=o.detail.value;if(n&&i){var a={entity_id:i,uuid:r.generateUUID()},c=r.getExtraConfig({},0);c&&Object.entries(c).forEach(function(t){var e=q(t,2),n=e[0],r=e[1];"defaultValue"in r&&(a[n]=r.defaultValue)}),r._config.entities.push(a),r.dispatchEvent(new CustomEvent("config-changed",{detail:{config:r._config},bubbles:!0,composed:!0})),r.render()}else if(!n&&i!==e.entity_id){var u=J(r._config.entities);u[t]=tt(tt({},u[t]),{},{entity_id:i}),r._config=tt(tt({},r._config),{},{entities:u}),r.dispatchEvent(new CustomEvent("config-changed",{detail:{config:r._config},bubbles:!0,composed:!0}))}}),o}},{key:"_createExtraControls",value:function(t,e,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=document.createElement("div");return i.style.cssText="\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n      gap: 16px;\n    ",Object.entries(n).forEach(function(n){var a=q(n,2),c=a[0],u=a[1],l=r._createControl(t,e,c,u,o);i.appendChild(l)}),i}},{key:"_createControl",value:function(t,e,n,r){var o=this,i=document.createElement("div");if(i.style.cssText="display: flex; flex-direction: column; gap: 6px;","checkbox"===r.type){var a=document.createElement("label");a.textContent=r.label,a.style.cssText="user-select: none; font-size: 0.9em; font-weight: 500;";var c=document.createElement("div");c.style.cssText="display: flex; align-items: center;";var u=document.createElement("input");u.type="checkbox",u.checked=!!e[n],u.style.cssText="cursor: pointer; margin-right: 8px;",u.addEventListener("change",function(){var e=J(o._config.entities);o.handleExtraConfigChange(e,t,n,u.checked),o._config=tt(tt({},o._config),{},{entities:e}),o.dispatchEvent(new CustomEvent("config-changed",{detail:{config:o._config},bubbles:!0,composed:!0}))}),c.appendChild(u),i.appendChild(a),i.appendChild(c)}else if("select"===r.type||"card_type"===r.type){var l=document.createElement("label");l.textContent=r.label,l.style.cssText="user-select: none; font-size: 0.9em; font-weight: 500;";var f=document.createElement("select");f.style.cssText="\n        padding: 6px 8px;\n        border-radius: 4px;\n        border: 1px solid rgba(255, 255, 255, 0.2);\n        font-size: 0.9em;\n        background-color: rgba(255, 255, 255, 0.05);\n        color: inherit;\n        cursor: pointer;\n      ",r.options.forEach(function(t){var r=document.createElement("option");r.value=t.value,r.text=t.label,r.selected=e[n]===t.value,f.appendChild(r)}),f.addEventListener("change",function(){var e=J(o._config.entities);o.handleExtraConfigChange(e,t,n,f.value),o._config=tt(tt({},o._config),{},{entities:e}),o.dispatchEvent(new CustomEvent("config-changed",{detail:{config:o._config},bubbles:!0,composed:!0}))}),i.appendChild(l),i.appendChild(f)}else if("entity"===r.type){var s,p=document.createElement("label");p.textContent=r.label,p.style.cssText="user-select: none; font-size: 0.9em; font-weight: 500;";var y=document.createElement("ha-selector");y.hass=this._hass,y.selector={entity:{filter:null!==(s=r.filter)&&void 0!==s?s:{domain:r.domain}}},y.value=e[n]||"",y.style.cssText="\n        width: 100%;\n        min-width: 200px;\n      ",y.addEventListener("value-changed",function(e){var r=e.detail.value||"",i=J(o._config.entities);o.handleExtraConfigChange(i,t,n,r),o._config=tt(tt({},o._config),{},{entities:i}),o.dispatchEvent(new CustomEvent("config-changed",{detail:{config:o._config},bubbles:!0,composed:!0}))}),i.appendChild(p),i.appendChild(y)}else if("alias"===r.type){var d=document.createElement("label");d.textContent=r.label,d.style.cssText="user-select: none; font-size: 0.9em; font-weight: 500;";var v=document.createElement("input");v.type="text",v.placeholder=r.label,v.value=e[n]||"",v.style.cssText="\n        padding: 6px 8px;\n        border-radius: 4px;\n        border: 1px solid rgba(255, 255, 255, 0.2);\n        font-size: 0.9em;\n        background-color: rgba(255, 255, 255, 0.05);\n        color: inherit;\n      ",v.addEventListener("blur",function(){var e=J(o._config.entities);o.handleExtraConfigChange(e,t,n,v.value),o._config=tt(tt({},o._config),{},{entities:e}),o.dispatchEvent(new CustomEvent("config-changed",{detail:{config:o._config},bubbles:!0,composed:!0}))}),i.appendChild(d),i.appendChild(v)}return i}},{key:"_createDeleteButton",value:function(t){var e=this,n=document.createElement("button");return n.innerHTML='\n      <svg style="width: 20px; height: 20px;" viewBox="0 0 24 24">\n        <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>\n      </svg>\n    ',n.style.cssText="\n      background: none;\n      border: none;\n      cursor: pointer;\n      color: inherit;\n      padding: 4px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-shrink: 0;\n      opacity: 0.6;\n      transition: opacity 0.2s;\n      border-radius: 4px;\n    ",n.addEventListener("mouseover",function(){return n.style.opacity="1"}),n.addEventListener("mouseout",function(){return n.style.opacity="0.6"}),n.addEventListener("click",function(){var n=J(e._config.entities);n.splice(t,1),e._config=tt(tt({},e._config),{},{entities:n}),e.dispatchEvent(new CustomEvent("config-changed",{detail:{config:e._config},bubbles:!0,composed:!0})),e.render()}),n}},{key:"_setupDragAndDrop",value:function(t){var e=this,n=null;t.addEventListener("dragstart",function(t){var e=t.target.closest('[draggable="true"]');e&&(n=parseInt(e.dataset.index),t.dataTransfer.effectAllowed="move",e.style.opacity="0.5")}),t.addEventListener("dragover",function(t){t.preventDefault(),t.dataTransfer.dropEffect="move"}),t.addEventListener("drop",function(t){if(t.preventDefault(),null!==n){var r=t.target.closest('[draggable="true"]');if(r){var o=parseInt(r.dataset.index);if(!isNaN(o)&&n!==o){var i=J(e._config.entities),a=q(i.splice(n,1),1)[0];i.splice(o,0,a),e._config=tt(tt({},e._config),{},{entities:i}),e.dispatchEvent(new CustomEvent("config-changed",{detail:{config:e._config},bubbles:!0,composed:!0})),e.render()}}n=null}}),t.addEventListener("dragend",function(e){t.querySelectorAll('[draggable="true"]').forEach(function(t){return t.style.opacity="1"})})}}],r&&nt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(r.l);function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ft(r.key),r)}}function ft(t){var e=function(t){if("object"!=ut(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ut(e)?e:e+""}function st(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(st=function(){return!!t})()}function pt(t){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pt(t)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}var dt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=pt(e),function(t,e){if(e&&("object"==ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,st()?Reflect.construct(e,n||[],pt(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"light"}},{key:"getExtraConfig",value:function(){return{independent_display:{type:"checkbox",label:this._translations[this._language].independentDisplay,defaultValue:!1}}}}])&&lt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function ht(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return bt(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(bt(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,bt(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,bt(s,"constructor",l),bt(l,"constructor",u),u.displayName="GeneratorFunction",bt(l,o,"GeneratorFunction"),bt(s),bt(s,o,"Generator"),bt(s,r,function(){return this}),bt(s,"toString",function(){return"[object Generator]"}),(ht=function(){return{w:i,m:p}})()}function bt(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}bt=function(t,e,n,r){function i(e,n){bt(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},bt(t,e,n,r)}function mt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function gt(t){return function(t){if(Array.isArray(t))return _t(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _t(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(n),!0).forEach(function(e){jt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function jt(t,e,n){return(e=Pt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pt(r.key),r)}}function Pt(t){var e=function(t){if("object"!=vt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vt(e)?e:e+""}function xt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xt=function(){return!!t})()}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function Tt(t,e){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tt(t,e)}var Ct=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=St(e),function(t,e){if(e&&("object"==vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xt()?Reflect.construct(e,n||[],St(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=wt(wt({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?gt(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_fan.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"风扇控制":"Fan Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=ht().m(function t(){return ht().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-fan-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){mt(o,n,r,a,c,"next",t)}function c(t){mt(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&Et(n.prototype,r),o&&Et(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,At(r.key),r)}}function At(t){var e=function(t){if("object"!=kt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kt(e)?e:e+""}function Dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dt=function(){return!!t})()}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}function Lt(t,e){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lt(t,e)}var Bt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Mt(e),function(t,e){if(e&&("object"==kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dt()?Reflect.construct(e,n||[],Mt(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lt(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"fan"}}])&&Rt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function zt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return It(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(It(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,It(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,It(s,"constructor",l),It(l,"constructor",u),u.displayName="GeneratorFunction",It(l,o,"GeneratorFunction"),It(s),It(s,o,"Generator"),It(s,r,function(){return this}),It(s,"toString",function(){return"[object Generator]"}),(zt=function(){return{w:i,m:p}})()}function It(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}It=function(t,e,n,r){function i(e,n){It(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},It(t,e,n,r)}function Gt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Nt(t){return function(t){if(Array.isArray(t))return Ht(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ht(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach(function(e){Vt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Vt(t,e,n){return(e=$t(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$t(r.key),r)}}function $t(t){var e=function(t){if("object"!=Ut(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ut(e)?e:e+""}function Yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Yt=function(){return!!t})()}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}function Jt(t,e){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Jt(t,e)}var Qt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=qt(e),function(t,e){if(e&&("object"==Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yt()?Reflect.construct(e,n||[],qt(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jt(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=Wt(Wt({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?Nt(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_scene.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"场景控制":"Scene Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=zt().m(function t(){return zt().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-scene-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){Gt(o,n,r,a,c,"next",t)}function c(t){Gt(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&Kt(n.prototype,r),o&&Kt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,te(r.key),r)}}function te(t){var e=function(t){if("object"!=Xt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xt(e)?e:e+""}function ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ee=function(){return!!t})()}function ne(t){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ne(t)}function re(t,e){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},re(t,e)}var oe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ne(e),function(t,e){if(e&&("object"==Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ee()?Reflect.construct(e,n||[],ne(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&re(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"scene"}},{key:"getExtraConfig",value:function(t){return{mode:{type:"select",label:"zh"===this._language?"执行方式":"Mode",defaultValue:"immediate",options:[{value:"immediate",label:"zh"===this._language?"立即执行":"Immediate"},{value:"delayed",label:"zh"===this._language?"延迟执行":"Delayed"},{value:"popup",label:"zh"===this._language?"弹窗询问":"Popup Ask"}]}}}},{key:"handleExtraConfigChange",value:function(t,e,n,r){t[e][n]=r}}])&&Zt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ae(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return ce(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(ce(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,ce(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,ce(s,"constructor",l),ce(l,"constructor",u),u.displayName="GeneratorFunction",ce(l,o,"GeneratorFunction"),ce(s),ce(s,o,"Generator"),ce(s,r,function(){return this}),ce(s,"toString",function(){return"[object Generator]"}),(ae=function(){return{w:i,m:p}})()}function ce(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}ce=function(t,e,n,r){function i(e,n){ce(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},ce(t,e,n,r)}function ue(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function le(t){return function(t){if(Array.isArray(t))return fe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return fe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach(function(e){ye(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ye(t,e,n){return(e=ve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ve(r.key),r)}}function ve(t){var e=function(t){if("object"!=ie(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ie(e)?e:e+""}function he(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(he=function(){return!!t})()}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}var ge=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=be(e),function(t,e){if(e&&("object"==ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,he()?Reflect.construct(e,n||[],be(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=pe(pe({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?le(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_media_play1.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"媒体播放器控制":"Media Player Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=ae().m(function t(){return ae().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-media-player-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){ue(o,n,r,a,c,"next",t)}function c(t){ue(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&de(n.prototype,r),o&&de(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,we(r.key),r)}}function we(t){var e=function(t){if("object"!=_e(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_e(e)?e:e+""}function je(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(je=function(){return!!t})()}function Ee(t){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ee(t)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pe(t,e)}var xe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Ee(e),function(t,e){if(e&&("object"==_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,je()?Reflect.construct(e,n||[],Ee(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"media_player"}},{key:"getExtraConfig",value:function(){var t,e;return{independent_display:{type:"checkbox",label:this._translations[this._language].independentDisplay,defaultValue:!1},remoteId:{type:"entity",domain:"remote",label:null!==(t=null===(e=this._translations)||void 0===e||null===(e=e[this._language])||void 0===e?void 0:e.remoteDevice)&&void 0!==t?t:"Remote",defaultValue:""}}}}])&&Oe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function Te(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return Ce(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(Ce(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Ce(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,Ce(s,"constructor",l),Ce(l,"constructor",u),u.displayName="GeneratorFunction",Ce(l,o,"GeneratorFunction"),Ce(s),Ce(s,o,"Generator"),Ce(s,r,function(){return this}),Ce(s,"toString",function(){return"[object Generator]"}),(Te=function(){return{w:i,m:p}})()}function Ce(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ce=function(t,e,n,r){function i(e,n){Ce(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Ce(t,e,n,r)}function ke(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Re(t){return function(t){if(Array.isArray(t))return Ae(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ae(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function De(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(Object(n),!0).forEach(function(e){Le(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Le(t,e,n){return(e=Ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ue(r.key),r)}}function Ue(t){var e=function(t){if("object"!=Se(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Se(e)?e:e+""}function ze(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ze=function(){return!!t})()}function Ie(t){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ie(t)}function Ge(t,e){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ge(t,e)}var Ne=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Ie(e),function(t,e){if(e&&("object"==Se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ze()?Reflect.construct(e,n||[],Ie(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=Me(Me({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?Re(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_climate.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"气候控制":"Climate Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=Te().m(function t(){return Te().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-climate-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){ke(o,n,r,a,c,"next",t)}function c(t){ke(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&Be(n.prototype,r),o&&Be(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,We(r.key),r)}}function We(t){var e=function(t){if("object"!=He(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==He(e)?e:e+""}function Ve(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ve=function(){return!!t})()}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ke(t)}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}var Ye=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Ke(e),function(t,e){if(e&&("object"==He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ve()?Reflect.construct(e,n||[],Ke(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"climate"}},{key:"getExtraConfig",value:function(){return{independent_display:{type:"checkbox",label:this._translations[this._language].independentDisplay,defaultValue:!1}}}}])&&Fe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function Je(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return Qe(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(Qe(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Qe(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,Qe(s,"constructor",l),Qe(l,"constructor",u),u.displayName="GeneratorFunction",Qe(l,o,"GeneratorFunction"),Qe(s),Qe(s,o,"Generator"),Qe(s,r,function(){return this}),Qe(s,"toString",function(){return"[object Generator]"}),(Je=function(){return{w:i,m:p}})()}function Qe(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Qe=function(t,e,n,r){function i(e,n){Qe(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Qe(t,e,n,r)}function Xe(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ze(t){return function(t){if(Array.isArray(t))return tn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function en(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?en(Object(n),!0).forEach(function(e){rn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function rn(t,e,n){return(e=an(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,an(r.key),r)}}function an(t){var e=function(t){if("object"!=qe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qe(e)?e:e+""}function cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cn=function(){return!!t})()}function un(t){return un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},un(t)}function ln(t,e){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ln(t,e)}var fn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=un(e),function(t,e){if(e&&("object"==qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cn()?Reflect.construct(e,n||[],un(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ln(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=nn(nn({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?Ze(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_cover.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"窗帘控制":"Cover Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=Je().m(function t(){return Je().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-cover-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){Xe(o,n,r,a,c,"next",t)}function c(t){Xe(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&on(n.prototype,r),o&&on(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function sn(t){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sn(t)}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yn(r.key),r)}}function yn(t){var e=function(t){if("object"!=sn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==sn(e)?e:e+""}function dn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dn=function(){return!!t})()}function vn(t){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vn(t)}function hn(t,e){return hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hn(t,e)}var bn=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=vn(e),function(t,e){if(e&&("object"==sn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dn()?Reflect.construct(e,n||[],vn(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"cover"}}])&&pn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function mn(t){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(t)}function gn(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return _n(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(_n(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,_n(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,_n(s,"constructor",l),_n(l,"constructor",u),u.displayName="GeneratorFunction",_n(l,o,"GeneratorFunction"),_n(s),_n(s,o,"Generator"),_n(s,r,function(){return this}),_n(s,"toString",function(){return"[object Generator]"}),(gn=function(){return{w:i,m:p}})()}function _n(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}_n=function(t,e,n,r){function i(e,n){_n(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},_n(t,e,n,r)}function On(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function wn(t){return function(t){if(Array.isArray(t))return jn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return jn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function En(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?En(Object(n),!0).forEach(function(e){xn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function xn(t,e,n){return(e=Tn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tn(r.key),r)}}function Tn(t){var e=function(t){if("object"!=mn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mn(e)?e:e+""}function Cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Cn=function(){return!!t})()}function kn(t){return kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kn(t)}function Rn(t,e){return Rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rn(t,e)}var An=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=kn(e),function(t,e){if(e&&("object"==mn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cn()?Reflect.construct(e,n||[],kn(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rn(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=Pn(Pn({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?wn(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_switch.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"开关控制":"Switch Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=gn().m(function t(){return gn().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-switch-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){On(o,n,r,a,c,"next",t)}function c(t){On(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&Sn(n.prototype,r),o&&Sn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function Dn(t){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dn(t)}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ln(r.key),r)}}function Ln(t){var e=function(t){if("object"!=Dn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dn(e)?e:e+""}function Bn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Bn=function(){return!!t})()}function Un(t){return Un=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Un(t)}function zn(t,e){return zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zn(t,e)}var In=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Un(e),function(t,e){if(e&&("object"==Dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bn()?Reflect.construct(e,n||[],Un(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zn(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"switch"}}])&&Mn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function Gn(t){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(t)}function Nn(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return Hn(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(Hn(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Hn(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,Hn(s,"constructor",l),Hn(l,"constructor",u),u.displayName="GeneratorFunction",Hn(l,o,"GeneratorFunction"),Hn(s),Hn(s,o,"Generator"),Hn(s,r,function(){return this}),Hn(s,"toString",function(){return"[object Generator]"}),(Nn=function(){return{w:i,m:p}})()}function Hn(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Hn=function(t,e,n,r){function i(e,n){Hn(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Hn(t,e,n,r)}function Fn(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Wn(t){return function(t){if(Array.isArray(t))return Vn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Vn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kn(Object(n),!0).forEach(function(e){Yn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Yn(t,e,n){return(e=Jn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jn(r.key),r)}}function Jn(t){var e=function(t){if("object"!=Gn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gn(e)?e:e+""}function Qn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Qn=function(){return!!t})()}function Xn(t){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xn(t)}function Zn(t,e){return Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zn(t,e)}var tr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Xn(e),function(t,e){if(e&&("object"==Gn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qn()?Reflect.construct(e,n||[],Xn(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zn(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=$n($n({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?Wn(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_weather.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"天气控制":"Weather Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=Nn().m(function t(){return Nn().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-weather-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){Fn(o,n,r,a,c,"next",t)}function c(t){Fn(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&qn(n.prototype,r),o&&qn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rr(r.key),r)}}function rr(t){var e=function(t){if("object"!=er(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==er(e)?e:e+""}function or(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(or=function(){return!!t})()}function ir(t){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(t)}function ar(t,e){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ar(t,e)}var cr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=ir(e),function(t,e){if(e&&("object"==er(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,or()?Reflect.construct(e,n||[],ir(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ar(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"weather"}}])&&nr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function ur(t){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ur(t)}function lr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return fr(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(fr(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,fr(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,fr(s,"constructor",l),fr(l,"constructor",u),u.displayName="GeneratorFunction",fr(l,o,"GeneratorFunction"),fr(s),fr(s,o,"Generator"),fr(s,r,function(){return this}),fr(s,"toString",function(){return"[object Generator]"}),(lr=function(){return{w:i,m:p}})()}function fr(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}fr=function(t,e,n,r){function i(e,n){fr(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},fr(t,e,n,r)}function sr(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function pr(t){return function(t){if(Array.isArray(t))return yr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return yr(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dr(Object(n),!0).forEach(function(e){hr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function hr(t,e,n){return(e=mr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mr(r.key),r)}}function mr(t){var e=function(t){if("object"!=ur(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ur(e)?e:e+""}function gr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gr=function(){return!!t})()}function _r(t){return _r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_r(t)}function Or(t,e){return Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Or(t,e)}var wr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=_r(e),function(t,e){if(e&&("object"==ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gr()?Reflect.construct(e,n||[],_r(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Or(t,e)}(e,t),n=e,r=[{key:"setConfig",value:function(t){this._config=vr(vr({},t),{},{entities:Array.isArray(null==t?void 0:t.entities)?pr(t.entities):[],icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_host.png"}),this._hass&&this.render()}},{key:"hass",set:function(t){this._hass=t,this.firstRender&&(this._config&&this.render(),this.firstRender=!1)}},{key:"render",value:function(){var t=this;if(this._hass&&this._config){this.innerHTML="";var e=document.createElement("ha-card");e.header=this._translations[this._language].cardTitle("zh"===this._language?"主机控制":"Host Control"),e.appendChild(this._createIcon(this._config.icon_path));var n=document.createElement("div");n.style.padding="16px",n.style.position="relative",this._config.entities.length>0?this._config.entities.forEach(function(e){var r,o=(null===(r=t._hass.states[e.entity_id])||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.friendly_name)||e.entity_id,i=document.createElement("div");i.style.marginBottom="10px",i.innerHTML="<div>".concat(t._translations[t._language].entity,": ").concat(o,"</div>"),n.appendChild(i)}):n.innerHTML="<div>".concat(this._translations[this._language].validEntity,"</div>"),e.appendChild(n),this.appendChild(e)}}}],o=[{key:"getConfigElement",value:(i=lr().m(function t(){return lr().w(function(t){for(;;)if(0===t.n)return t.a(2,document.createElement("aiks-host-card-editor"))},t)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){sr(o,n,r,a,c,"next",t)}function c(t){sr(o,n,r,a,c,"throw",t)}a(void 0)})},function(){return a.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{entities:[]}}}],r&&br(n.prototype,r),o&&br(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(r.l);function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pr(r.key),r)}}function Pr(t){var e=function(t){if("object"!=jr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==jr(e)?e:e+""}function xr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xr=function(){return!!t})()}function Sr(t){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sr(t)}function Tr(t,e){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tr(t,e)}var Cr=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,n){return e=Sr(e),function(t,e){if(e&&("object"==jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xr()?Reflect.construct(e,n||[],Sr(t).constructor):e.apply(t,n))}(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tr(t,e)}(e,t),n=e,(r=[{key:"getEntityDomain",value:function(){return"remote"}}])&&Er(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(ct);function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function Rr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof c?r:c,l=Object.create(u.prototype);return Ar(l,"_invoke",function(n,r,o){var i,c,u,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,n){return i=e,c=0,u=t,p.n=n,a}};function y(n,r){for(c=n,u=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,i=f[e],y=p.p,d=i[2];n>3?(o=d===r)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=y&&((o=n<2&&y<i[1])?(c=0,p.v=r,p.n=i[1]):y<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,c=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&y(f,d),c=f,u=d;(e=c<2?t:u)||!s;){i||(c?c<3?(c>1&&(p.n=-1),y(c,u)):p.n=u:p.v=u);try{if(l=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(s=p.n<0)?u:n.call(r,p))!==a)break}catch(e){i=t,c=1,u=e}finally{l=1}}return{value:e,done:s}}}(n,o,i),!0),l}var a={};function c(){}function u(){}function l(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(Ar(e={},r,function(){return this}),e),s=l.prototype=c.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,Ar(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return u.prototype=l,Ar(s,"constructor",l),Ar(l,"constructor",u),u.displayName="GeneratorFunction",Ar(l,o,"GeneratorFunction"),Ar(s),Ar(s,o,"Generator"),Ar(s,r,function(){return this}),Ar(s,"toString",function(){return"[object Generator]"}),(Rr=function(){return{w:i,m:p}})()}function Ar(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ar=function(t,e,n,r){function i(e,n){Ar(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Ar(t,e,n,r)}function Dr(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Mr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mr(Object(n),!0).forEach(function(e){Br(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Br(t,e,n){return(e=zr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zr(r.key),r)}}function zr(t){var e=function(t){if("object"!=kr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kr(e)?e:e+""}function Ir(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ir=function(){return!!t})()}function Gr(t){return Gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gr(t)}function Nr(t,e){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nr(t,e)}var Hr=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=Gr(e),function(t,e){if(e&&("object"==kr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ir()?Reflect.construct(e,n||[],Gr(t).constructor):e.apply(t,n))}(this,e)).addEventListener("config-changed",function(e){return t.setConfig(e.detail.config)}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nr(t,e)}(e,t),r=e,o=[{key:"setConfig",value:function(t){this._config=Lr(Lr({},t),{},{id:t.id||this.generateUUID(),icon_path:t.icon_path||"/local/community/RosCard/icon_img/icon_statistics.png",device_types:Lr({light:!0,switch:!0,climate:!0},t.device_types||{})}),this._hass&&this.render()}},{key:"generateUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}},{key:"hass",set:function(t){this._hass=t,this._config&&this.render()}},{key:"getEnabledTypesText",value:function(){var t=this,e={light:"zh"===this._language?"灯":"Light",switch:"zh"===this._language?"开关":"Switch",climate:"zh"===this._language?"空调":"Climate"},n=Object.keys(this._config.device_types).filter(function(e){return t._config.device_types[e]}).map(function(t){return e[t]}).join("、"),r="zh"===this._language?"已启用：":"Enabled: ";return n?r+n:"zh"===this._language?"无":"None"}},{key:"render",value:function(){if(this._hass&&this._config){this.innerHTML="";var t=document.createElement("ha-card");t.header=this._translations[this._language].cardTitle("zh"===this._language?"统计":"Statistics"),t.appendChild(this._createIcon(this._config.icon_path));var e=document.createElement("div");e.style.padding="16px";var n=document.createElement("div");n.style.padding="10px 12px",n.style.backgroundColor="#e3f2fd",n.style.borderRadius="8px",n.style.color="#1565c0",n.style.fontSize="0.95em",n.style.display="inline-block",n.textContent=this.getEnabledTypesText(),e.appendChild(n),t.appendChild(e),this.appendChild(t)}}}],i=[{key:"getConfigElement",value:(a=Rr().m(function t(){return Rr().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.resolve().then(n.bind(n,373));case 1:return t.a(2,document.createElement("aiks-switch-monitor-card-editor"))}},t)}),c=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=a.apply(t,e);function i(t){Dr(o,n,r,i,c,"next",t)}function c(t){Dr(o,n,r,i,c,"throw",t)}i(void 0)})},function(){return c.apply(this,arguments)})},{key:"getStubConfig",value:function(){return{monitor_name:"zh"==(navigator.language.startsWith("zh")?"zh":"en")?"未命名监听":"Unnamed Monitor",device_types:{light:!0,switch:!0,climate:!0}}}}],o&&Ur(r.prototype,o),i&&Ur(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i,a,c}(r.l),Fr=n(373);customElements.define("aiks-tv-card",_),customElements.define("aiks-tv-card-editor",A),customElements.define("aiks-light-card",$),customElements.define("aiks-light-card-editor",dt),customElements.define("aiks-fan-card",Ct),customElements.define("aiks-fan-card-editor",Bt),customElements.define("aiks-scene-card",Qt),customElements.define("aiks-scene-card-editor",oe),customElements.define("aiks-media-player-card",ge),customElements.define("aiks-media-player-card-editor",xe),customElements.define("aiks-climate-card",Ne),customElements.define("aiks-climate-card-editor",Ye),customElements.define("aiks-cover-card",fn),customElements.define("aiks-cover-card-editor",bn),customElements.define("aiks-switch-card",An),customElements.define("aiks-switch-card-editor",In),customElements.define("aiks-weather-card",tr),customElements.define("aiks-weather-card-editor",cr),customElements.define("aiks-host-card",wr),customElements.define("aiks-host-card-editor",Cr),customElements.define("aiks-switch-monitor-card",Hr),customElements.define("aiks-switch-monitor-card-editor",Fr.AiksSwitchMonitorCardEditor),window.customCards=window.customCards||[],window.customCards.push({type:"aiks-tv-card",name:navigator.language.startsWith("zh")?"电视(ROS)":"TV(ROS)",description:navigator.language.startsWith("zh")?"电视卡片":"TV Card",preview:!0},{type:"aiks-light-card",name:navigator.language.startsWith("zh")?"灯光(ROS)":"Light(ROS)",description:navigator.language.startsWith("zh")?"灯光卡片":"Light Card",preview:!0},{type:"aiks-fan-card",name:navigator.language.startsWith("zh")?"风扇(ROS)":"Fan(ROS)",description:navigator.language.startsWith("zh")?"风扇卡片":"Fan Card",preview:!0},{type:"aiks-scene-card",name:navigator.language.startsWith("zh")?"场景(ROS)":"Scene(ROS)",description:navigator.language.startsWith("zh")?"场景卡片":"Scene Card",preview:!0},{type:"aiks-media-player-card",name:navigator.language.startsWith("zh")?"媒体播放器(ROS)":"Media Player(ROS)",description:navigator.language.startsWith("zh")?"媒体播放器卡片":"Media Player Card",preview:!0},{type:"aiks-climate-card",name:navigator.language.startsWith("zh")?"空调(ROS)":"AC(ROS)",description:navigator.language.startsWith("zh")?"空调卡片":"AC Card",preview:!0},{type:"aiks-cover-card",name:navigator.language.startsWith("zh")?"窗帘(ROS)":"Cover(ROS)",description:navigator.language.startsWith("zh")?"窗帘卡片":"Cover Card",preview:!0},{type:"aiks-switch-card",name:navigator.language.startsWith("zh")?"开关(ROS)":"Switch(ROS)",description:navigator.language.startsWith("zh")?"开关卡片":"Switch Card",preview:!0},{type:"aiks-weather-card",name:navigator.language.startsWith("zh")?"天气(ROS)":"Weather(ROS)",description:navigator.language.startsWith("zh")?"天气卡片":"Weather Card",preview:!0},{type:"aiks-host-card",name:navigator.language.startsWith("zh")?"主机(ROS)":"Host(ROS)",description:navigator.language.startsWith("zh")?"主机卡片":"Host Card",preview:!0},{type:"aiks-switch-monitor-card",name:navigator.language.startsWith("zh")?"统计(ROS)":"Statistics(ROS)",description:navigator.language.startsWith("zh")?"统计卡片":"Statistics Card",preview:!0}),console.log("✅ Aiks Custom Cards loaded successfully!")})();
//# sourceMappingURL=RosCard.js.map